<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciamento de Objetos Câmara</title>
</head>
<link rel="stylesheet" href="atualizar.css">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap');
</style>

<body>
    <div id="container">
      <img src="/Gerenciamento/ChatGPT_Image_28_de_abr._de_2025__14_36_26__1_-removebg-preview.png" alt="">
      <div id="caixa">
        <h1>Atualizar Objetos</h1>

        <form action="/at">

            <label for="objetoID">ID/Nome do objeto</label>
            <input type="text" id="objetoID" name="objetoID"  placeholder="ID ou nome do objeto:"> <br> <br>

            <label for="estadoObjeto">Estado do objeto</label>
            <select name="estado" id="estadoObjeto">
                <option value="Ótimo">Ótimo</option>
                <option value="Bom">Bom</option>
                <option value="Ruim">Ruim</option>
            </select><br><br>

            
            <div class="lugares">
                <label for="piso">Selecione o Piso:</label>
                <br>
                <select id="piso" onchange="filtrarLugares()">
                  <option value="">- Selecione -</option>
                  <option value="piso1">Piso 1</option>
                  <option value="piso2">Piso 2</option>
                  <option value="Garagem">Garagem</option>
                </select>
              </div><br>
          
              <div class="lugares">
                <label for="busca">Digite o nome do lugar:</label>
                <input type="text" id="busca" placeholder="Ex: Sala de reunião" oninput="filtrarLugares()">
              </div>
          
              <div class="lugares" >
                <div class="lugar piso1" onclick="selecionarLugar(this)">Recepção</div>
                <div class="lugar piso1" onclick="selecionarLugar(this)">Sala de Leitura</div>
                <div class="lugar piso1" onclick="selecionarLugar(this)">Auditório</div>
          
                <div class="lugar piso2" onclick="selecionarLugar(this)">Laboratório</div>
                <div class="lugar piso2" onclick="selecionarLugar(this)">COTEC</div>
                <div class="lugar piso2" onclick="selecionarLugar(this)">Sala de Reunião</div>

                <div class="lugar Garagem" onclick="selecionarLugar(this)">Garagem</div>                

              </div>
              
              <div id="selecionado" style="display:none; color: white; margin-top: 10px;"></div>


              <button class="atualizar" type="submit">Atualizar</button>
          </div>
        
       </form>
       

       <script>
        function filtrarLugares() {
          const pisoSelecionado = document.getElementById("piso").value;
          const buscaTexto = document.getElementById("busca").value.toLowerCase();
          const lugares = document.querySelectorAll(".lugar");
    
          lugares.forEach(lugar => {
            const pertenceAoPiso = lugar.classList.contains(pisoSelecionado);
            const contemTexto = lugar.textContent.toLowerCase().includes(buscaTexto);
    
            if (pisoSelecionado && pertenceAoPiso && contemTexto) {
              lugar.classList.add("mostrar");
            } else {
              lugar.classList.remove("mostrar");
            }
          });
    
          document.getElementById("selecionado").style.display = "none"; // esconde seleção ao filtrar novamente
        }
    

        function selecionarLugar(elemento) {
        const nome = elemento.textContent;
        const selecionadoDiv = document.getElementById("selecionado");
        selecionadoDiv.style.display = "block";
        document.getElementById("busca").value = nome;
      }

      </script>
</div>
</body>
</html>